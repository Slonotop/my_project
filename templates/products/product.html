{% extends 'base.html' %}
{% load static %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-lg-6">

{#            <ul id="etalage">#}
{##}
{#                <li>#}
{#                <img class="etalage_thumb_image" src="{{ instance.get_main_image }}" class="img-responsive" />#}
{#                <img class="etalage_source_image" src="{{ instance.get_main_image }}" class="img-responsive" title="{{ instance.name }}" />#}
{#                </li>#}
{#                #}
{#            </ul>#}


{#            <ul id="etalage">#}




{#            <div id="carousel" class="carousel slide d-inline-block" data-ride="carousel">#}
{#        <!-- Индикаторы -->#}
{#        <ol class="carousel-indicators">#}
{#            <li data-target="#carousel" data-slide-to="0" class="active"></li>#}
{#            <li data-target="#carousel" data-slide-to="1"></li>#}
{#            <li data-target="#carousel" data-slide-to="2"></li>#}
{#        </ol>#}
{#        <div class="carousel-inner">#}
{##}
{#            {% for image_item in product.productimage_set.all %}#}
{#                <div class="carousel-item active">#}
{#                    <div class="product-image-item">#}
{#                            <img src="{{ image_item.image.url }}" class="img-responsive">#}
{#                            <div class="carousel-caption">#}
{#                                <h5>Title of the first slide</h5>#}
{#                                <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>#}
{#                            </div>#}
{#                    </div>#}
{#                </div>#}
{#                {% endfor %}#}

{#            <div class="carousel-item active">#}
{#                <img class="img-fluid" src="/examples/images/c-1.jpg" alt="...">#}
{#                <div class="carousel-caption">#}
{#                    <h5>Title of the first slide</h5>#}
{#                    <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>#}
{#                </div>#}
{#            </div>#}
{#            <div class="carousel-item">#}
{#                <img class="img-fluid" src="/examples/images/c-2.jpg" alt="...">#}
{#                <div class="carousel-caption">#}
{#                    <h5>Title of the second slide</h5>#}
{#                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>#}
{#                </div>#}
{#            </div>#}
{#            <div class="carousel-item">#}
{#                <img class="img-fluid" src="/examples/images/c-3.jpg" alt="...">#}
{#                <div class="carousel-caption">#}
{#                    <h5>Title of the third slide</h5>#}
{#                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#        <!-- Элементы управления -->#}
{#        <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">#}
{#            <span class="carousel-control-prev-icon" aria-hidden="true"></span>#}
{#            <span class="sr-only">Предыдущий</span>#}
{#        </a>#}
{#        <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">#}
{#            <span class="carousel-control-next-icon" aria-hidden="true"></span>#}
{#            <span class="sr-only">Следующий</span>#}
{#        </a>#}
{#    </div>#}
{##}
{#</div>#}

{#                РАБОЧИЙ ВАРИАНТ#}

                <div id="carousel" class="carousel slide" data-ride="carousel" style="display: inline-block;">
                    <div class="carousel-inner">

                        <div class="item active">
                            <img src="/static/media/products_images/21.jpg" alt="..." class="img-responsive img-responsive-product-img">
                        </div>

                        {% for image_item in product.productimage_set.all %}

                            <div class="item">
                                <div class="product-image-item">
                                    <img src="{{ image_item.image.url }}" class="img-responsive img-responsive-product-img" alt="...">
                                </div>
                            </div>

                        {% endfor %}

                    </div>

        <!-- Элементы управления -->
                    <a class="left carousel-control" href="#carousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Предыдущий</span>
                    </a>
                    <a class="right carousel-control" href="#carousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Следующий</span>
                    </a>
                </div>

            </div>






{#                {% for image_item in product.productimage_set.all %}#}
{#                    <li>#}
{##}
{#                    <div class="product-image-item">#}
{#                            <img src="{{ image_item.image.url }}" class="img-responsive">#}
{#                    </div>#}
{##}
{#                    </li>#}
{#                {% endfor %}#}

{#                <li>#}
{##}
{#                        <div class="product-image-item">#}
{##}
{#                                <img src="https://wallpapers.pub/web/wallpapers/city-dubai/thumbnail/lg.jpg" class="img-responsive etalage_thumb_image">#}
{##}
{#                                <img src="{{ image_item.image.url }}" class="img-responsive etalage_source_image">#}
{#                        </div>#}
{##}
{#                </li>#}

{#            </ul>#}


{#             </div>БЫЛА ЗДЕСЬ РОВ ЗАКРЫТО#}

            <div class="col-lg-6">
                 <h1 class="text-center">
                     {{ product.name }}
                 </h1>
                <div class="product-price-h3">
                    <p>
                        <h3>Цена: {{ product.price }} $</h3>
                    </p>
                </div>
                <div>
                      <!-- Nav tabs -->
                      <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#description" aria-controls="home" role="tab" data-toggle="tab">
                                Описание
                            </a>
                        </li>
                        <li role="presentation">
                            <a href="#short_description" aria-controls="profile" role="tab" data-toggle="tab">
                                Подробные характеристики
                            </a>
                        </li>
                      </ul>

                      <!-- Tab panes -->
                      <div class="tab-content product-description-tabs">
                        <div role="tabpanel" class="tab-pane active" id="description">
                            {{ product.description }}
                            <form id="form_buying_product" class="form-inline" action="{% url 'basket_adding' %}">{% csrf_token %}

                    <div class="form-group">
                        <input type="number" id="number" class="form-control" name="number" value="1" step="1" min="1" max="50">
                    </div>

                    <div class="form-group">
                        <button type="submit" id="submit_btn" class="btn btn-success btn-buy"
                            data-product_id = "{{ product.id }}"
                            data-name = "{{ product.name }}"
                            data-price = "{{ product.price }}">
                            Купить
                        </button>
                    </div>

                    </form>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="short_description">
                            {{ product.short_description }}
                        </div>
                        <div role="tabpanel" class="tab-pane" id="messages">...</div>
                        <div role="tabpanel" class="tab-pane" id="settings">...</div>
                      </div>
                </div>

                <div>
                </div>

            </div>
            </div>
        </div>
    </div>
{% endblock %}


